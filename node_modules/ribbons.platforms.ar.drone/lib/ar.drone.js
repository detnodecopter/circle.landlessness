var util = require('util');
var Component = require('ribbons.component');
var arDrone = require('ar-drone');

function ARDrone (options) {
  Component.call(this, arguments);
  options = options || {};
  this.name = options.name || 'AR.Drone';

  var client = arDrone.createClient();
  var self = this;
  this.Pin = function (pin) {
    this.pin = pin;
    this.platform = self;
  }

  this.Pin.prototype = {
    on: function () {
      client.animateLeds(this.pin, 1, 60);
      this.platform.info('animateLeds', this.pin);
    },
    off: function () {
      client.animateLeds('blank', 1, 60); 
      this.platform.info('animateLeds', 'blank');
    }
  }
}

util.inherits(ARDrone, Component);

module.exports = ARDrone;
